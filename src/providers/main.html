<head>
    <title>pointless!</title>
    <script type="text/javascript" src="${relativePath}/../node_modules/jquery/dist/jquery.min.js"></script>
    <link rel="Stylesheet" href="${relativePath}/../resources/css/default.css" type="text/css" />
    <link rel="Stylesheet" href="${relativePath}/../resources/css/editor.css" type="text/css" />
    <script id="joyFile" type="text/javascript">
        $(function () {
            function getJoyFileStrings() {
                return '${joyFileStrs}';
            }
            window.getJoyFileStrings = getJoyFileStrings;
        });
    </script>
    <script type="text/javascript" src="${relativePath}/../engine/out/joy.bundle.js"></script>
    <script>
        /* When the user clicks on the button,
        toggle between hiding and showing the dropdown content */
        function inputClick() {
            document.getElementById("dropdown-dictionary").classList.toggle("show");
        }

        function filterFunction() {
            var input, filter, ul, li, a, i;
            input = document.getElementById("dropdown-search");
            filter = input.value.toUpperCase();
            div = document.getElementById("dropdown-dictionary");
            a = div.getElementsByTagName("a");
            for (i = 0; i < a.length; i++) {
                if (a[i].innerHTML.toUpperCase().indexOf(filter) > -1) {
                    a[i].style.display = "";
                } else {
                    a[i].style.display = "none";
                }
            }
        }

        // Close the dropdown if the user clicks outside of it
        window.onclick = function (event) {
            console.log(JSON.stringify(event.target));
            if (!event.target.matches('.dropbtn')) {

                if (event.target.matches('.drop-input')) {
                    console.log('.drop-input found!');
                    event.target.focus();
                    event.preventDefault();
                    return;
                } else if (event.target.matches('.drop-element')) {
                    console.log('.drop-element found!');
                    // event.target.focus();
                    return;
                }

                var dropdowns = document.getElementsByClassName("dropdown-content");
                var i;
                for (i = 0; i < dropdowns.length; i++) {
                    var openDropdown = dropdowns[i];
                    console.log(i);
                    if (openDropdown.classList.contains('show')) {
                        console.log(openDropdown);
                        openDropdown.classList.remove('show');
                    }
                }
            }
        }
    </script>
    <script type="text/brief">
  </script>
</head>

<body>
    <div id="demo"></div>
    <hr />
    <div class="title-container">
        <div class="title-header">Interactive Editor</div>
        <div id="input"></div>
    </div>
    <hr />
    <div class="title-container">
        <div class="title-header">Command Text</div>
        <div id="output"></div>
    </div>
    <hr />
    <div class="title-container">
        <div class="title-header">Stack</div>
        <div id="context"></div>
    </div>
    <hr />
    <div class="title-container">
        <div class="title-header">Result Console</div>
        <div id="result"></div>
    </div>
    <hr />
    <div class="title-container">
        <div class="title-header">Error Console</div>
        <div id="error"></div>
    </div>
    <hr />
    <div class="title-container">
        <div class="title-header">Dictionary Explorer</div>
        <div class="dropdown">
            <div class="container">
                <input id="dropdown-search" onclick="inputClick()" class="drop-input" type="text" placeholder="Search.." onkeyup="filterFunction()">
                <div id="dropdown-dictionary" class="dropdown-content"></div>
                <div id="element-defintion"></div>
            </div>
        </div>
    </div>
    <hr />
    <!-- <h2>
        <a target="_blank" href="http://youtu.be/R3MNcA2dpts?hd=1">Demo based off forked "Be Brief!" Editor</a>
    </h2> -->
    <p>Help
        <!-- <a target="_blank" href="https://github.com/AshleyF/brief">"Be Brief!" Editor (@author AshleyF)</a> -->
    </p>
    <ul>
        <li>"primitives" to to get a list of primitive function</li>
        <li>"defines" to get a list of library defined functions</li>
        <li>Arrow keys to move cursor (CTRL+arrows to skip quotations)</li>
        <li>Hold Shift to select while moving</li>
        <li>Square brackets for quotations</li>
        <li>Double quotes for strings</li>
    </ul>
</body>